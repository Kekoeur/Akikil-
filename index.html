<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Akikil√®leQ üçë</title>
    <link rel="stylesheet" href="css/style-retro.css">
</head>
<body>
    <!-- Titre principal fixe -->
    <div class="main-title">
        <h1>üçë Akikil√®leQ üçë</h1>
    </div>

    <!-- Bouton scoreboard flottant -->
    <button class="floating-scoreboard-btn" onclick="showFullScoreboard()" title="Voir le scoreboard">
        üèÜ
    </button>

    <div class="game-container">
        <!-- √âcran de mot de passe -->
        <div id="password-screen">
            <div class="info-box">
                <strong>üõ°Ô∏è Jeu Prot√©g√©</strong><br>
                Entrez le mot de passe pour d√©chiffrer les donn√©es et acc√©der au jeu.
            </div>
            <div class="password-container">
                <input 
                    type="password" 
                    id="password-input" 
                    class="password-input" 
                    placeholder="MOT DE PASSE REQUIS..." 
                    onkeypress="handlePasswordKeyPress(event)"
                >
                <button class="unlock-btn" onclick="unlockGame()">
                    üîì D√âVERROUILLER LE JEU
                </button>
                <div id="password-error" class="error-message" style="display: none;"></div>
            </div>
        </div>

        <!-- √âcran de saisie du nom -->
        <div id="name-screen" style="display: none;">
            <div class="info-box">
                <strong>üéÆ Bienvenue champion !</strong><br>
                Entre ton nom pour commencer √† jouer et appara√Ætre dans le scoreboard.
            </div>
            <div class="name-container">
                <input 
                    type="text" 
                    id="player-name-input" 
                    class="name-input" 
                    placeholder="TON NOM...." 
                    maxlength="20"
                    onkeypress="handleNameKeyPress(event)"
                >
                <button class="start-btn" onclick="startWithName()">
                    üöÄ COMMENCER
                </button>
                <div id="name-error" class="error-message" style="display: none;"></div>
                <button class="back-btn" onclick="goBackToPassword()">
                    ‚¨ÖÔ∏è RETOUR
                </button>
            </div>
        </div>

        <!-- √âcran de jeu -->
        <div id="game-screen" style="display: none;">
            <div class="game-header">
                <div class="player-info">
                    <span class="player-label">JOUEUR:</span>
                    <span id="game-player-name" class="player-name">---</span>
                </div>
                <div class="score">
                    SCORE: <span id="score">0</span> / <span id="total">0</span>
                </div>
            </div>
            
            <div class="progress-bar">
                <div class="progress-fill" id="progress"></div>
            </div>
            
            <div class="photo-container">
                <img id="current-photo" alt="Photo myst√®re" style="display: none;">
                <div id="image-loading" class="image-loading" style="display: none;">
                    <div class="loading-spinner"></div>
                    <div>D√âCHIFFREMENT EN COURS...</div>
                </div>
            </div>
            
            <div class="options-container" id="options"></div>
            
            <div class="feedback" id="feedback"></div>
            
            <button class="next-btn" id="next-btn" onclick="nextQuestion()" style="display: none;">
                QUESTION SUIVANTE ‚û°Ô∏è
            </button>
        </div>

        <!-- √âcran de fin avec scoreboard -->
        <div id="end-screen" style="display: none;">
            <div class="final-result">
                <div class="final-player">
                    <span class="player-label">JOUEUR:</span>
                    <span id="final-player-name" class="player-name">---</span>
                </div>
                <div id="final-emoji" class="final-emoji">üèÜ</div>
                <div id="final-percentage" class="final-percentage">100%</div>
                <div id="final-score" class="final-score">Score: 10 / 10</div>
                <div id="final-message" class="final-message">Champion absolu !</div>
                <div id="rank-info" class="rank-info">ü•á Nouveau record !</div>
            </div>

            <!-- Actions de fin -->
            <div class="end-actions">
                <button class="restart-btn" onclick="restartGame()">
                    üîÑ REJOUER
                </button>
                <button class="new-player-btn" onclick="newPlayer()">
                    üë§ NOUVEAU JOUEUR
                </button>
            </div>
        </div>
    </div>

    <!-- Modal pour scoreboard -->
    <div id="scoreboard-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2>üèÜ HALL OF FAME üèÜ</h2>
                <button class="close-modal" onclick="hideFullScoreboard()">‚úï</button>
            </div>
            <div id="modal-scoreboard-content" class="modal-scoreboard">
                <!-- Contenu g√©n√©r√© dynamiquement -->
            </div>
            <div class="modal-actions">
                <button class="clear-scores-btn" onclick="clearScoreboard()">
                    üóëÔ∏è VIDER LE SCOREBOARD
                </button>
                <button class="close-modal-btn" onclick="hideFullScoreboard()">
                    ‚¨ÖÔ∏è FERMER
                </button>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="data/encrypted-data.js"></script>
    <script src="js/scoreboard.js"></script>
</body>
</html>